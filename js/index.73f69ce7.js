(function(t){function e(e){for(var n,i,a=e[0],s=e[1],u=e[2],b=0,d=[];b<a.length;b++)i=a[b],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);l&&l(e);while(d.length)d.shift()();return r.push.apply(r,u||[]),c()}function c(){for(var t,e=0;e<r.length;e++){for(var c=r[e],n=!0,a=1;a<c.length;a++){var s=c[a];0!==o[s]&&(n=!1)}n&&(r.splice(e--,1),t=i(i.s=c[0]))}return t}var n={},o={index:0},r=[];function i(e){if(n[e])return n[e].exports;var c=n[e]={i:e,l:!1,exports:{}};return t[e].call(c.exports,c,c.exports,i),c.l=!0,c.exports}i.m=t,i.c=n,i.d=function(t,e,c){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:c})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var c=Object.create(null);if(i.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(c,n,function(e){return t[e]}.bind(null,n));return c},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],s=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var l=s;r.push([0,"chunk-vendors"]),c()})({0:function(t,e,c){t.exports=c("cd49")},"0ab0":function(t,e,c){},"0ade":function(t,e,c){t.exports=c.p+"img/andres-rodriguez-3jJtXTwLZw4-unsplash.5f2b5635.jpg"},"0b2d":function(t,e,c){t.exports=c.p+"img/sam-moqadam-PcI8L5CG5XA-unsplash.4307952e.jpg"},"1b81":function(t,e,c){"use strict";c("1d5d")},"1d5d":function(t,e,c){},"23cd":function(t,e,c){"use strict";c("b012")},2984:function(t,e,c){"use strict";c("dddd")},"3f02":function(t,e,c){"use strict";c("0ab0")},"76c1":function(t,e,c){},"874a":function(t,e,c){t.exports=c.p+"img/drew-taylor-jFu2L04tMBc-unsplash.69e59887.jpg"},"8ece":function(t,e,c){t.exports=c.p+"img/caroline-attwood-bpPTlXWTOvg-unsplash.7031bedd.jpg"},"91af":function(t,e,c){t.exports=c.p+"img/sj-Jinnqw9bHjI-unsplash.3721e2ac.jpg"},a24a:function(t,e,c){},adaa:function(t,e,c){t.exports=c.p+"img/anna-volkova-LeU-Tdabc5E-unsplash.c96c377b.jpg"},b012:function(t,e,c){},cd49:function(t,e,c){"use strict";c.r(e);c("e260"),c("e6cf"),c("cca6"),c("a79d");var n=c("7a23");c("d434"),c("a24a");function o(t,e,c,o,r,i){var a=Object(n["n"])("FoodsTabs"),s=Object(n["n"])("FoodsList"),u=Object(n["n"])("Cart"),l=Object(n["n"])("Footer");return Object(n["k"])(),Object(n["e"])(n["a"],null,[Object(n["h"])(a),Object(n["h"])("main",null,[Object(n["h"])(s),Object(n["h"])(u)]),Object(n["h"])(l)],64)}var r={class:"tabs"},i={key:0},a={key:1};function s(t,e,c,o,s,u){return Object(n["k"])(),Object(n["e"])("ul",r,[(Object(n["k"])(!0),Object(n["e"])(n["a"],null,Object(n["m"])(t.list,(function(e,c){return Object(n["k"])(),Object(n["e"])("li",{class:["tabs__item",{"tabs__item--active":e===t.active}],key:c,onClick:function(c){return t.changeActive(e)}},["ch"===e?(Object(n["k"])(),Object(n["e"])("span",i,"中式餐點")):Object(n["f"])("",!0),"ws"===e?(Object(n["k"])(),Object(n["e"])("span",a,"西式餐點")):Object(n["f"])("",!0)],10,["onClick"])})),128))])}var u=Object(n["i"])({computed:{active:function(){return this.$store.state.active},list:function(){return this.$store.getters["foodsKind"]}},methods:{changeActive:function(t){return this.$store.dispatch("changeActive",t)}}});c("3f02");u.render=s;var l=u,b={class:"foods"},d={class:"foods__list__item__title"},f={class:"foods__list__item__action"},j={class:"foods__list__item__action__price"},h=Object(n["h"])("small",null,"NT",-1);function O(t,e,c,o,r,i){return Object(n["k"])(),Object(n["e"])("section",b,[Object(n["h"])(n["c"],{tag:"ul",class:"foods__list",name:"fade",mode:"out-in"},{default:Object(n["q"])((function(){return[(Object(n["k"])(!0),Object(n["e"])(n["a"],null,Object(n["m"])(t.totalFoods,(function(e){return Object(n["k"])(),Object(n["e"])("li",{class:"foods__list__item",key:e.id},[Object(n["h"])("div",{class:"foods__list__item__cover",style:{backgroundImage:"url("+e.pic+")"}},null,4),Object(n["h"])("h5",d,Object(n["o"])(e.title),1),Object(n["h"])("div",f,[Object(n["h"])("div",j,[h,Object(n["g"])(" "+Object(n["o"])(e.price.toLocaleString("zh-TW")),1)]),Object(n["h"])("button",{type:"button",class:"button",disabled:-1!==t.checkExist(e),onClick:function(c){return t.addToCart(e)}}," 下訂 ",8,["disabled","onClick"])])])})),128))]})),_:1})])}c("4de4"),c("c740");var p=Object(n["i"])({name:"FoodsList",computed:{active:function(){return this.$store.state.active},totalFoods:function(){var t=this;return this.$store.state.foods.filter((function(e){return e.kind===t.active}))}},methods:{addToCart:function(t){t.qty=1,this.$store.dispatch("addToCart",t)},checkExist:function(t){return this.$store.state.cart.findIndex((function(e){return e.id===t.id}))}}});c("ce90");p.render=O;var _=p,m={class:"cart"},v={key:0,class:"cart__title"},g={class:"cart__list__item__title"},k={class:"cart__list__item__counter"},y={class:"cart__list__item__price"},C=Object(n["h"])("small",null," 元",-1),w={class:"cart__price"},x=Object(n["h"])("span",null,"總計：",-1),L=Object(n["h"])("small",null," 元",-1),T={key:0,class:"cart__confirm"},F={class:"cart__confirm__wrap"},q=Object(n["h"])("h4",{class:"cart__confirm__title"},"確認訂單",-1),I=Object(n["h"])("h6",{class:"cart__confirm__title",style:{"text-align":"left"}},"餐點",-1),P={class:"cart__list cart__list--confirm"},$={class:"cart__list__item__title"},A={class:"cart__list--confirm__price"},S=Object(n["h"])("small",null," 元",-1),M={class:"cart__list--confirm__total"},R=Object(n["h"])("span",null,"訂單金額：",-1),z=Object(n["h"])("small",null," 元",-1),N={class:"cart__confirm__action"},W={key:0,class:"cart__confirm"},B={class:"cart__confirm__wrap"},Q=Object(n["h"])("h4",{class:"cart__confirm__title"},"訂購成功",-1),D=Object(n["g"])(" 您的取餐號碼為"),J=Object(n["g"])("，請至櫃台等號付款。 "),Y={class:"cart__confirm__action"};function E(t,e,c,o,r,i){return Object(n["k"])(),Object(n["e"])("div",m,[t.cartList.length<1?(Object(n["k"])(),Object(n["e"])("h6",v,"購物車是空的！")):Object(n["f"])("",!0),Object(n["h"])(n["c"],{tag:"ul",class:"cart__list",name:"slideDown",mode:"out-in"},{default:Object(n["q"])((function(){return[(Object(n["k"])(!0),Object(n["e"])(n["a"],null,Object(n["m"])(t.cartList,(function(e){return Object(n["k"])(),Object(n["e"])("li",{class:"cart__list__item",key:e.id},[Object(n["h"])("h6",g,[Object(n["h"])("div",{class:"cart__list__item__cover",style:{backgroundImage:"url("+e.pic+")"}},null,4),Object(n["h"])("span",null,Object(n["o"])(e.title),1)]),Object(n["h"])("div",k,[Object(n["h"])("button",{type:"button",class:"button button--round",disabled:e.qty<2,onClick:function(c){return t.setQty(!1,e)}}," － ",8,["disabled","onClick"]),Object(n["h"])("input",{type:"number",min:"1",name:"qty",value:e.qty,onChange:function(c){return t.updateQty(e,c)}},null,40,["value","onChange"]),Object(n["h"])("button",{type:"button",class:"button button--round",onClick:function(c){return t.setQty(!0,e)}}," ＋ ",8,["onClick"])]),Object(n["h"])("div",y,[Object(n["h"])("button",{type:"button",class:"button button--refuse",onClick:function(c){return t.removeItemFormCart(e)}}," 移除 ",8,["onClick"]),Object(n["h"])("span",null,[Object(n["g"])("小計："+Object(n["o"])((e.qty*e.price).toLocaleString("zh-TW")),1),C])])])})),128))]})),_:1}),Object(n["h"])("div",w,[x,Object(n["h"])("span",null,[Object(n["g"])(Object(n["o"])(t.total.toLocaleString("zh-TW")),1),L]),Object(n["h"])("button",{type:"button",class:"button button--checkout button--confirm",onClick:e[1]||(e[1]=function(e){return t.showConfirm=!t.showConfirm}),disabled:t.cartList.length<1}," 送出訂單 ",8,["disabled"])]),Object(n["h"])(n["b"],{name:"scale",mode:"out-in",appear:""},{default:Object(n["q"])((function(){return[t.showConfirm?(Object(n["k"])(),Object(n["e"])("div",T,[Object(n["h"])("div",F,[q,I,Object(n["h"])("ul",P,[(Object(n["k"])(!0),Object(n["e"])(n["a"],null,Object(n["m"])(t.cartList,(function(t){return Object(n["k"])(),Object(n["e"])("li",{class:"cart__list__item",key:t.id},[Object(n["h"])("div",{class:"cart__list__item__cover",style:{backgroundImage:"url("+t.pic+")"}},null,4),Object(n["h"])("h6",$,Object(n["o"])(t.title)+" x "+Object(n["o"])(t.qty),1),Object(n["h"])("span",A,[Object(n["g"])(" 小計："+Object(n["o"])((t.qty*t.price).toLocaleString("zh-TW")),1),S])])})),128))]),Object(n["h"])("div",M,[R,Object(n["h"])("span",null,[Object(n["g"])(Object(n["o"])(t.total.toLocaleString("zh-TW")),1),z])]),Object(n["h"])("div",N,[Object(n["h"])("button",{type:"button",class:"button button--refuse",onClick:e[2]||(e[2]=function(e){return t.showConfirm=!t.showConfirm})}," 回上一步驟 "),Object(n["h"])("button",{type:"button",class:"button button--confirm",onClick:e[3]||(e[3]=function(e){t.showConfirm=!1,t.showResult=!0})}," 訂單完成 ")])])])):Object(n["f"])("",!0)]})),_:1}),Object(n["h"])(n["b"],{name:"scale",mode:"out-in",appear:""},{default:Object(n["q"])((function(){return[t.showResult?(Object(n["k"])(),Object(n["e"])("div",W,[Object(n["h"])("div",B,[Q,Object(n["h"])("p",null,[D,Object(n["h"])("span",null,Object(n["o"])(t.generateRandomNumber()),1),J]),Object(n["h"])("div",Y,[Object(n["h"])("button",{type:"button",class:"button button--confirm",onClick:e[4]||(e[4]=function(){return t.closeResultModal&&t.closeResultModal.apply(t,arguments)})}," 關閉 ")])])])):Object(n["f"])("",!0)]})),_:1})])}c("d81d"),c("a9e3");var U=Object(n["i"])({name:"Cart",data:function(){return{showConfirm:!1,showResult:!1}},computed:{cartList:function(){return this.$store.getters["sortedCartList"]},total:function(){if(this.cartList.length<1)return 0;var t=function(t,e){return t+e},e=this.cartList.map((function(t){return t.qty*t.price})).reduce(t);return e}},methods:{setQty:function(t,e){return t?(e.qty+=1,this.$store.dispatch("updateCart",e)):(e.qty-=1,this.$store.dispatch("updateCart",e))},updateQty:function(t,e){return t.qty=Number(e.target.value),this.$store.dispatch("updateCart",t)},removeItemFormCart:function(t){return this.$store.dispatch("removeItemFormCart",t.id)},generateRandomNumber:function(){for(var t="",e=0,c=0;c<4;c++)e=Math.floor(9*Math.random()),-1===t.indexOf(String(e))?t+=e:c-=1;return t},closeResultModal:function(){return this.showResult=!1,this.$store.dispatch("clearCart")}}});c("2984");U.render=E;var X=U,K={class:"footer"},G={class:"footer__about"},H={key:0,class:"footer__about__popover"},V=Object(n["g"])(" 本系統採用"),Z=Object(n["h"])("a",{href:"https://v3.vuejs.org/",target:"_blank"},"Vue3",-1),tt=Object(n["g"])("進行前端開發，圖片素材來源於"),et=Object(n["h"])("a",{href:"https://unsplash.com/",target:"_blank"},"Unsplash",-1),ct=Object(n["g"])("。 "),nt={class:"footer__copyright"},ot=Object(n["g"])(" © 2021"),rt={key:0},it=Object(n["g"])(" Design & Coding by ツキノリュウ. ");function at(t,e,c,o,r,i){return Object(n["k"])(),Object(n["e"])("footer",K,[Object(n["h"])("div",G,[Object(n["h"])("button",{type:"button",class:"button button--about",onFocus:e[1]||(e[1]=function(e){return t.showPopover=!0}),onBlur:e[2]||(e[2]=function(e){return t.showPopover=!1})}," ABOUT ",32),Object(n["h"])(n["b"],{name:"slideDown",mode:"out-in",appear:""},{default:Object(n["q"])((function(){return[t.showPopover?(Object(n["k"])(),Object(n["e"])("div",H,[V,Z,tt,et,ct])):Object(n["f"])("",!0)]})),_:1})]),Object(n["h"])("div",nt,[ot,2021!=t.thisYear?(Object(n["k"])(),Object(n["e"])("span",rt," - "+Object(n["o"])(t.thisYear),1)):Object(n["f"])("",!0),it])])}var st=Object(n["i"])({name:"Footer",data:function(){return{showPopover:!1}},computed:{thisYear:function(){return(new Date).getFullYear()}}});c("1b81");st.render=at;var ut=st,lt=Object(n["i"])({name:"App",components:{FoodsTabs:l,FoodsList:_,Cart:X,Footer:ut}});c("23cd");lt.render=o;var bt=lt,dt=(c("7db0"),c("a434"),c("5502")),ft=Object(dt["a"])({state:{cart:[],active:"ch",foods:[{id:"1",kind:"ch",title:"中餐 A",pic:c("0ade"),price:390},{id:"2",kind:"ch",title:"中餐 B",pic:c("874a"),price:590},{id:"3",kind:"ch",title:"中餐 C",pic:c("91af"),price:290},{id:"4",kind:"ws",title:"西餐 A",pic:c("adaa"),price:590},{id:"5",kind:"ws",title:"西餐 B",pic:c("8ece"),price:690},{id:"6",kind:"ws",title:"西餐 C",pic:c("0b2d"),price:490}]},getters:{foodsKind:function(t){return t.foods.map((function(t){return t.kind})).filter((function(t,e,c){return c.indexOf(t,0)===e}))},sortedCartList:function(t){return t.cart.sort((function(t,e){return Number(t.id)-Number(e.id)}))}},mutations:{changeActive:function(t,e){t.active=e},addToCart:function(t,e){var c=t.cart.findIndex((function(t){return t.id===e.id}));-1===c&&t.cart.push(e)},updateCart:function(t,e){var c=t.cart.find((function(t){return t.id===e.id}));void 0!==c&&Object.assign(c,e)},removeItemFormCart:function(t,e){var c=t.cart.findIndex((function(t){return t.id===e}));t.cart.splice(c,1)},clearCart:function(t){t.cart.length=0}},actions:{changeActive:function(t,e){var c=t.commit;c("changeActive",e)},addToCart:function(t,e){var c=t.commit;c("addToCart",e)},updateCart:function(t,e){var c=t.commit;c("updateCart",e)},removeItemFormCart:function(t,e){var c=t.commit;c("removeItemFormCart",e)},clearCart:function(t){var e=t.commit;e("clearCart")}}});Object(n["d"])(bt).use(ft).mount("#app")},ce90:function(t,e,c){"use strict";c("76c1")},d434:function(t,e,c){},dddd:function(t,e,c){}});